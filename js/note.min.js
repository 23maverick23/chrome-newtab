/*
 *
 * Custom note object for storing note objects in localStorage.
 * Requires jQuery and store.js.
 * Make sure those scripts are loaded before this script.
 *
 */(function(e){var t={add:function(e,t){if(!e||typeof e!="string")return"content must be type string!";var n={},r=new Date,i=r.getTime();n.id=i;n.content=e;n.flag=t&&typeof t=="boolean"?!0:!1;n.updated=r.toLocaleString();store.set(i,n);return"added id:"+n.id},get:function(e){if(!e||typeof e!="number")return"id must be type number!";var t=store.get(e);return t},getAll:function(){var e=store.getAll();return e},getAllAsArray:function(){var e=this.getAll(),t=[];for(key in e)t.push(e[key]);t.sort(function(e,t){return e.flag==t.flag?0:e.flag?-1:1});return t},getAllCount:function(){return this.getAllAsArray().length},update:function(e,t,n){if(!e||typeof e!="number")return"id must be type number!";if(!t||typeof t!="string")return"content must be type string!";var r=this.get(e);if(!r)return"unable to find a note with id == "+e;var i=new Date,s={};s.id=r.id;s.flag=n;s.content=t;s.updated=i.toLocaleString();store.set(e,s);return"updated id:"+e},flag:function(e){if(!e||typeof e!="number")return"id must be type number!";var t=this.get(e);if(!t)return"unable to find a note with id == "+e;var n=new Date,r={};r.id=t.id;r.content=t.content;r.flag=t.flag?!1:!0;r.updated=n.toLocaleString();store.set(e,r);return"note id:"+e+" flag:"+r.flag},"delete":function(e){if(!e||typeof e!="number")return"id must be type number!";store.remove(e);return"deleted id:"+e},deleteAll:function(){var e=this.getAllAsArray().length,t=e==1?"":"s",n=store.clear();return"deleted "+e+" note"+t}};t.html=t.prototype={row:function(e){if(!e||typeof e!="object")return"colsArray must be type array!";var t=Math.ceil(e.length/3),n="";for(var r=0;r<t;r++){var i=e.splice(0,3);n+='<div class="row">';for(var s=0;s<i.length;s++)n+=i[s];n+="</div>"}return n},panel:function(e,t,n,r){if(!e||typeof e!="number")return"id must be type number!";if(!t||typeof t!="string")return"content must be type string!";if(n===null||typeof n!="boolean")return"flag must be type boolean!";if(!r||typeof r!="string")return"updated must be type string!";this.id=e.toString();this.content=t.replace(/\n/g,"<br>");this.flag=n?"panel-danger":"panel-default";this.updated=r;var i='<div class="col-md-4" id="'+this.id+'">'+'<div class="panel '+this.flag+'"><div class="panel-body">'+"<p>"+this.content+'</p></div><div class="panel-footer">'+'<button type="button" class="btn btn-xs btn-default modify-note" data-toggle="modal" '+'data-target="#modify-note-modal"><span class="glyphicon glyphicon-pencil"></span></button>'+'<button type="button" class="btn btn-xs btn-danger flag-note">'+'<span class="glyphicon glyphicon-flag"></span></button>'+'<small class="text-muted">'+this.updated+"</small>"+'<button type="button" class="btn btn-xs btn-link pull-right delete-note">'+'<span class="glyphicon glyphicon-trash"></span></button></div></div></div>';return i}};e.note=t})(this.window||global);